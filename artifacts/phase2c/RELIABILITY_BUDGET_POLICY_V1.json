{
  "schema_version": "ft-reliability-budget-policy-v1",
  "policy_version": 1,
  "generated_on": "2026-02-16",
  "scope": "Phase-2C conformance + e2e reliability gating",
  "coverage_floors": {
    "FT-P2C-001": {
      "min_scenarios": 14,
      "min_pass_ratio": 1.0,
      "required_suites": [
        "scalar_dac",
        "tensor_meta"
      ]
    },
    "FT-P2C-002": {
      "min_scenarios": 6,
      "min_pass_ratio": 1.0,
      "required_suites": [
        "dispatch_key"
      ]
    },
    "FT-P2C-004": {
      "min_scenarios": 2,
      "min_pass_ratio": 1.0,
      "required_suites": [
        "autograd_scheduler"
      ]
    },
    "FT-P2C-005": {
      "min_scenarios": 24,
      "min_pass_ratio": 1.0,
      "required_suites": [
        "scalar_dac",
        "dispatch_key",
        "tensor_meta"
      ]
    },
    "FT-P2C-006": {
      "min_scenarios": 4,
      "min_pass_ratio": 1.0,
      "required_suites": [
        "serialization"
      ]
    }
  },
  "deferred_coverage_targets": {
    "FT-P2C-003": {
      "target_log": "artifacts/phase2c/e2e_forensics/ft-p2c-003.jsonl",
      "target_min_scenarios": 10,
      "target_required_suites": [
        "op_schema"
      ],
      "activation_condition": "enable once packet scenarios are merged into e2e_matrix_full_v1.jsonl aggregation"
    },
    "FT-P2C-007": {
      "target_log": "artifacts/phase2c/e2e_forensics/ft-p2c-007.jsonl",
      "target_min_scenarios": 20,
      "target_required_suites": [
        "dispatch_key"
      ],
      "activation_condition": "enable once packet scenarios are merged into e2e_matrix_full_v1.jsonl aggregation"
    },
    "FT-P2C-008": {
      "target_log": "artifacts/phase2c/e2e_forensics/ft-p2c-008.jsonl",
      "target_min_scenarios": 20,
      "target_required_suites": [
        "nn_state"
      ],
      "activation_condition": "enable once packet scenarios are merged into e2e_matrix_full_v1.jsonl aggregation"
    }
  },
  "gate_topology": {
    "g1": "fmt/lint",
    "g2": "unit+property+structured_log_contract",
    "g3": "differential+metamorphic+adversarial",
    "g4": "e2e+replay_forensics",
    "g5": "perf_regression+isomorphism",
    "g6": "artifact_schema+packet_validator",
    "g7": "raptorq_sidecar+decode_proof+integrity_scrub",
    "g8": "readiness_signoff+residual_risk_audit"
  },
  "flake_budget": {
    "max_flake_suspects": 0,
    "detection_rule": "same scenario_id appears with both pass and non-pass outcomes in one gate window",
    "retry_limit": 2,
    "quarantine_label": "flake-quarantine",
    "de_flake_owner_workflow": [
      "open/update bead under bd-3v0.22 with scenario_id and reason_code",
      "attach replay command + forensic artifact refs",
      "assign owning packet team",
      "remove quarantine only after 3 clean consecutive gate runs"
    ]
  },
  "global_budgets": {
    "max_failed_entries": 0,
    "max_unknown_reason_codes": 0
  },
  "remediation_hints": {
    "coverage_floor": "Regenerate missing scenarios and update corpus/fixtures before merging.",
    "pass_ratio": "Replay failed scenario_ids and inspect failure_forensics_index_v1.json.",
    "required_suite": "Run packet-scoped e2e matrix and confirm suite-level logs are present.",
    "flake_budget": "Trigger retry policy and quarantine scenario_id when instability persists.",
    "unknown_reason": "Extend reason taxonomy in triage/index tooling before accepting the run."
  },
  "artifact_refs": {
    "crosswalk": "artifacts/phase2c/UNIT_E2E_LOGGING_CROSSWALK_V1.json",
    "scenario_corpus": "artifacts/phase2c/USER_WORKFLOW_SCENARIO_CORPUS_V1.json",
    "forensics_index": "artifacts/phase2c/e2e_forensics/failure_forensics_index_v1.json"
  }
}
